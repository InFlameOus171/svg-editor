{"version":3,"file":"util.js","sourceRoot":"","sources":["../../../../src/util/helper/util.ts"],"names":[],"mappings":"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","sourcesContent":["import type { Coordinates, Matrix } from '../../types/types';\r\nimport type { Partition } from '../../types/util.types';\r\nimport { hexColorCodeRegExp } from './regularExpressions';\r\n\r\nexport const partition = <T>(\r\n  array: Array<T>,\r\n  aggregateFunction: (value: T) => boolean,\r\n  applyFunction: (value: T) => T = value => value\r\n): Partition<T> => {\r\n  return array.reduce(\r\n    (acc: Partition<T>, value) => {\r\n      const result = aggregateFunction(value);\r\n      if (result) {\r\n        return [[...acc[0], applyFunction(value)], [...acc[1]]];\r\n      } else {\r\n        return [[...acc[0]], [...acc[1], applyFunction(value)]];\r\n      }\r\n    },\r\n    [[], []]\r\n  );\r\n};\r\n\r\nexport const getUniqueXandYCoordinatesFromBoundaries = (\r\n  coordinates: Coordinates[]\r\n): [number[], number[]] => {\r\n  const uniqueCoordinates = [...new Map(coordinates)];\r\n\r\n  const splitXandYCoordinates = uniqueCoordinates.reduce(\r\n    (acc: Array<number[]>, innerArray) => {\r\n      return [\r\n        [...acc[0], innerArray[0]],\r\n        [...acc[1], innerArray[1]],\r\n      ];\r\n    },\r\n    [[], []]\r\n  );\r\n  return [\r\n    [...new Set(splitXandYCoordinates[0])],\r\n    [...new Set(splitXandYCoordinates[1])],\r\n  ];\r\n};\r\n\r\nexport const arrayFrom = <T>(arrayLike: ArrayLike<T> = []): T[] => {\r\n  return Array.from(arrayLike);\r\n};\r\n\r\nexport const parseFloat = (value?: string | number | null) => {\r\n  if (value === undefined || value === null) {\r\n    return 0;\r\n  }\r\n  if (typeof value === 'number') {\r\n    return value;\r\n  }\r\n  return Number.parseFloat(value);\r\n};\r\n\r\nexport const elementArrayToObject = (elements: Element[]) =>\r\n  elements.reduce((acc: Record<string, Element[]>, elem) => {\r\n    return { ...acc, [elem.tagName]: [...(acc[elem.tagName] ?? []), elem] };\r\n  }, {});\r\n\r\n// ref: https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/transform\r\nexport const transformCoordinatesByMatrix =\r\n  (matrix: Matrix) =>\r\n  (coordinates: Coordinates): Coordinates => {\r\n    const [a, b, c, d, e, f] = matrix;\r\n    const [oldX, oldY] = coordinates;\r\n    const newX = a * oldX + c * oldX + e;\r\n    const newY = b * oldY + d * oldY + f;\r\n    return [newX, newY];\r\n  };\r\n\r\nexport const transformAllCoordinatesByMatrix = (\r\n  matrix: Matrix,\r\n  coordinates: Coordinates[]\r\n) => {\r\n  return coordinates.map(transformCoordinatesByMatrix(matrix));\r\n};\r\n\r\nexport const parseToFixed2HexString = (colorValue: RegExpMatchArray) => {\r\n  let codeValue = parseInt(colorValue[0]).toString(16);\r\n  if (codeValue.length < 2) {\r\n    codeValue = '0'.concat(codeValue);\r\n  }\r\n\r\n  return codeValue;\r\n};\r\n\r\nexport const hexToRGBA = (colorCode: string, opacity: string = '1') => {\r\n  const [, r, g, b] = hexColorCodeRegExp.exec(colorCode) ?? [\r\n    '#000000',\r\n    '00',\r\n    '00',\r\n    '00',\r\n  ];\r\n  const parsedColorCodes = [parseInt(r, 16), parseInt(g, 16), parseInt(b, 16)];\r\n  return 'rgba('.concat(parsedColorCodes.join(','), ',', opacity, ')');\r\n};\r\n\r\nexport const normalizeColorCode = (\r\n  colorCode?: string | null\r\n): { colorCode: string; opacity: string } => {\r\n  if (!colorCode) {\r\n    return { colorCode: '#000000', opacity: '0' };\r\n  }\r\n  if (colorCode.charAt(0) !== '#') {\r\n    const numberMatcher = new RegExp(/\\d*\\.?\\d+/g);\r\n    const parsedColorCodes = [...colorCode.matchAll(numberMatcher)];\r\n    if (parsedColorCodes.length === 4) {\r\n      const opacity = parsedColorCodes.pop()?.[0] ?? '0';\r\n      const rgbColors = parsedColorCodes.map(parseToFixed2HexString);\r\n      return { colorCode: '#'.concat(rgbColors.join('')), opacity };\r\n    } else {\r\n      const rgbColors = parsedColorCodes.map(parseToFixed2HexString);\r\n      return { colorCode: '#'.concat(rgbColors.join('')), opacity: '1' };\r\n    }\r\n  }\r\n  if (colorCode.length === 4) {\r\n    const code = colorCode.substring(1);\r\n    return {\r\n      colorCode: '#'.concat(\r\n        code[0],\r\n        code[0],\r\n        code[1],\r\n        code[1],\r\n        code[2],\r\n        code[2]\r\n      ),\r\n      opacity: '1',\r\n    };\r\n  }\r\n  return { colorCode, opacity: '1' };\r\n};\r\n\r\nexport const updateNextSiblingValue = (event: InputEvent) => {\r\n  if ((event.target as HTMLInputElement)?.nextElementSibling)\r\n    (\r\n      (event.target as HTMLInputElement).nextElementSibling as HTMLInputElement\r\n    ).value = (event.currentTarget as HTMLInputElement)?.value;\r\n};\r\n\r\nexport const updatePreviousSiblingValue = (event: InputEvent) => {\r\n  if ((event.target as HTMLInputElement)?.previousElementSibling)\r\n    (\r\n      (event.target as HTMLInputElement)\r\n        .previousElementSibling as HTMLInputElement\r\n    ).value = (event.currentTarget as HTMLInputElement)?.value;\r\n};\r\n\r\nexport const relativeCoordinatesCommands = [\r\n  'a',\r\n  'c',\r\n  'm',\r\n  's',\r\n  'q',\r\n  't',\r\n  'l',\r\n  'z',\r\n];\r\n\r\nexport const absoluteCoordinatesCommands = [\r\n  'A',\r\n  'C',\r\n  'L',\r\n  'M',\r\n  'Q',\r\n  'S',\r\n  'T',\r\n  'Z',\r\n];\r\n\r\nexport const relativeSingleDirectionCommands = ['h', 'v'];\r\n\r\nexport const absoluteSingleDirectionCommands = ['H', 'V'];\r\n\r\nexport const relativeCommands = [\r\n  ...relativeCoordinatesCommands,\r\n  relativeSingleDirectionCommands,\r\n];\r\nexport const absoluteCommands = [\r\n  ...absoluteCoordinatesCommands,\r\n  absoluteSingleDirectionCommands,\r\n];\r\n\r\nexport const singleDirectionCommands = [\r\n  ...relativeSingleDirectionCommands,\r\n  ...absoluteSingleDirectionCommands,\r\n];\r\n\r\nexport const pathCommandValues = [\r\n  ...relativeCoordinatesCommands,\r\n  ...absoluteCoordinatesCommands,\r\n  ...singleDirectionCommands,\r\n];\r\n"]}