{"version":3,"file":"Freehand.js","sourceRoot":"","sources":["../../../../src/util/Shapes/Freehand.ts"],"names":[],"mappings":";;AAKA,OAAO,EAAE,qBAAqB,EAAE,MAAM,iBAAiB,CAAC;AACxD,OAAO,EAAE,KAAK,EAAE,MAAM,SAAS,CAAC;AAEhC,MAAM,OAAO,QAAS,SAAQ,KAAK;IAIjC,YACE,MAAqB,EACrB,SAAkC,EAClC,iBAA2B,EAC3B,WAAoB,KAAK;QAEzB,KAAK,CACH,qBAAqB,CAAC,MAAM,CAAC,EAC7B,SAAS,EACT,iBAAiB,EACjB,QAAQ,CACT,CAAC;QAdJ,mCAAuB;QACvB,2BAAuB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAC;QAkBhC,iCAAgB,GAAG,EAAE;YACnB,MAAM,gBAAgB,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAC7C,CAAC,GAAG,EAAE,kBAAkB,EAAE,EAAE,CAAC;gBAC3B,GAAG,CAAC,CAAC,CAAC,GAAG,kBAAkB,CAAC,CAAC,CAAC;gBAC9B,GAAG,CAAC,CAAC,CAAC,GAAG,kBAAkB,CAAC,CAAC,CAAC;aAC/B,EACD,CAAC,CAAC,EAAE,CAAC,CAAC,CACP,CAAC;YACF,uBAAA,IAAI,oBAAW,CAAC,gBAAgB,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,gBAAgB,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,MAAA,CAAC;QACpE,CAAC,EAAC;QAEF,cAAS,GAAG,GAAG,EAAE;YACf,OAAO,uBAAA,IAAI,wBAAQ,CAAC;QACtB,CAAC,CAAC;QAEF,WAAM,GAAG,CAAC,WAAwB,EAAE,EAAE;YACpC,MAAM,WAAW,GAAG,WAAW,CAAC,CAAC,CAAC,GAAG,uBAAA,IAAI,wBAAQ,CAAC,CAAC,CAAC,CAAC;YACrD,MAAM,WAAW,GAAG,WAAW,CAAC,CAAC,CAAC,GAAG,uBAAA,IAAI,wBAAQ,CAAC,CAAC,CAAC,CAAC;YACrD,uBAAA,IAAI,oBAAW,uBAAA,IAAI,wBAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC;gBACvC,KAAK,CAAC,CAAC,CAAC,GAAG,WAAW;gBACtB,KAAK,CAAC,CAAC,CAAC,GAAG,WAAW;aACvB,CAAC,MAAA,CAAC;YACH,uBAAA,IAAI,8BAAc,MAAlB,IAAI,CAAgB,CAAC;YACrB,IAAI,CAAC,cAAc,CAAC,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC,CAAC;QAClD,CAAC,CAAC;QAEF,cAAS,GAAG,GAAG,EAAE;YACf,OAAO,uBAAA,IAAI,wBAAQ,CAAC;QACtB,CAAC,CAAC;QAEF,wBAAmB,GAAG,GAAsB,EAAE,CAAC,iBAC7C,MAAM,EAAE,IAAI,CAAC,QAAQ,EAAE,IACpB,IAAI,CAAC,YAAY,EAAE,EACtB,CAAC;QAEH,8BAAyB,GAAG,GAAG,EAAE,CAAC,CAAC;YACjC,EAAE,EAAE,IAAI,CAAC,KAAK,EAAE;YAChB,IAAI,EAAE,UAAU;YAChB,MAAM,EAAE,uBAAA,IAAI,wBAAQ;YACpB,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,SAAS,EAAE,IAAI,CAAC,YAAY,EAAE;SAC/B,CAAC,CAAC;QAEH,aAAQ,GAAG,GAAG,EAAE;YACd,OAAO,uBAAA,IAAI,wBAAQ;iBAChB,MAAM,CAAC,CAAC,GAAG,EAAE,KAAK,EAAE,EAAE;gBACrB,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,EAAE,GAAG,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;YAC5D,CAAC,EAAE,EAAE,CAAC;iBACL,IAAI,EAAE,CAAC;QACZ,CAAC,CAAC;QArDA,uBAAA,IAAI,oBAAW,MAAM,MAAA,CAAC;QACtB,uBAAA,IAAI,8BAAc,MAAlB,IAAI,CAAgB,CAAC;IACvB,CAAC;CAoDF","sourcesContent":["import type {\n  Coordinates,\n  FreehandSVGParams,\n  SVGParamsBase,\n} from '../../types/types';\nimport { getFreehandBoundaries } from './Freehand.util';\nimport { Shape } from './Shape';\n\nexport class Freehand extends Shape {\n  #points: Coordinates[];\n  #center: Coordinates = [-1, -1];\n\n  constructor(\n    points: Coordinates[],\n    svgParams?: Partial<SVGParamsBase>,\n    countShapecountUp?: boolean,\n    isLocked: boolean = false\n  ) {\n    super(\n      getFreehandBoundaries(points),\n      svgParams,\n      countShapecountUp,\n      isLocked\n    );\n    this.#points = points;\n    this.#updateCenter();\n  }\n\n  #updateCenter = () => {\n    const sumOfCoordinates = this.boundaries.reduce(\n      (acc, boundaryCoordinate) => [\n        acc[0] + boundaryCoordinate[0],\n        acc[1] + boundaryCoordinate[1],\n      ],\n      [0, 0]\n    );\n    this.#center = [sumOfCoordinates[0] / 4, sumOfCoordinates[1] / 4];\n  };\n\n  getCenter = () => {\n    return this.#center;\n  };\n\n  moveTo = (coordinates: Coordinates) => {\n    const xDifference = coordinates[0] - this.#center[0];\n    const yDifference = coordinates[1] - this.#center[1];\n    this.#points = this.#points.map(point => [\n      point[0] + xDifference,\n      point[1] + yDifference,\n    ]);\n    this.#updateCenter();\n    this.moveBoundaries([xDifference, yDifference]);\n  };\n\n  getPoints = () => {\n    return this.#points;\n  };\n\n  toSVGFreehandParams = (): FreehandSVGParams => ({\n    points: this.toString(),\n    ...this.getSvgParams(),\n  });\n\n  getDeconstructedShapeData = () => ({\n    id: this.getId(),\n    type: 'Freehand',\n    points: this.#points,\n    isLocked: this.isLocked,\n    svgParams: this.getSvgParams(),\n  });\n\n  toString = () => {\n    return this.#points\n      .reduce((acc, point) => {\n        return acc.concat(`${point[0]}`, ',', `${point[1]}`, ' ');\n      }, '')\n      .trim();\n  };\n}\n"]}