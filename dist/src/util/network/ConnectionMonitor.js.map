{"version":3,"file":"ConnectionMonitor.js","sourceRoot":"","sources":["../../../../src/util/network/ConnectionMonitor.ts"],"names":[],"mappings":";;AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,2BAA2B,CAAC;AAEtD,MAAM,OAAO,iBAAiB;IAE5B,YAAY,SAAoB;QADhC,wCAAe;QAWf,YAAO,GAAG,GAAG,EAAE;YACb,uBAAA,IAAI,6BAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,KAAK,CAAC,EAAE;gBAC9C,MAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBAC1C,IAAI,UAAU,CAAC,KAAK,KAAK,SAAS,CAAC,IAAI,EAAE;oBACvC,MAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC;oBAC3D,uBAAA,IAAI,6BAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACzB;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAC;QAjBA,uBAAA,IAAI,yBAAO,SAAS,MAAA,CAAC;QACrB,SAAS,CAAC,gBAAgB,CAAC,SAAS,EAAE,KAAK,CAAC,EAAE;YAC5C,MAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YAC1C,IAAI,UAAU,CAAC,KAAK,KAAK,SAAS,CAAC,IAAI,EAAE;gBACvC,MAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC;gBAC3D,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aAC1B;QACH,CAAC,CAAC,CAAC;IACL,CAAC;CAUF","sourcesContent":["import { WS_EVENTS } from '../../types/network.types';\n\nexport class ConnectionMonitor {\n  #ws: WebSocket;\n  constructor(webSocket: WebSocket) {\n    this.#ws = webSocket;\n    webSocket.addEventListener('message', event => {\n      const parsedData = JSON.parse(event.data);\n      if (parsedData.event === WS_EVENTS.PING) {\n        const newEvent = JSON.stringify({ event: WS_EVENTS.PONG });\n        webSocket.send(newEvent);\n      }\n    });\n  }\n  destroy = () => {\n    this.#ws.removeEventListener('message', event => {\n      const parsedData = JSON.parse(event.data);\n      if (parsedData.event === WS_EVENTS.PING) {\n        const newEvent = JSON.stringify({ event: WS_EVENTS.PONG });\n        this.#ws.send(newEvent);\n      }\n    });\n  };\n}\n"]}