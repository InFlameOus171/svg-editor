{"version":3,"file":"EditorTemplate.js","sourceRoot":"","sources":["../../../../../src/components/templates/EditorTemplate/EditorTemplate.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,KAAK,CAAC;AACvC,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,MAAM,mBAAmB,CAAC;AAC5D,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAShC,OAAO,sBAAsB,CAAC;AAC9B,OAAO,wBAAwB,CAAC;AAChC,OAAO,iCAAiC,CAAC;AACzC,OAAO,2BAA2B,CAAC;AAEnC,OAAO,mCAAmC,CAAC;AAC3C,OAAO,+BAA+B,CAAC;AACvC,OAAO,8BAA8B,CAAC;AACtC,OAAO,yBAAyB,CAAC;AACjC,OAAO,EACL,kBAAkB,EAClB,iBAAiB,EACjB,WAAW,GACZ,MAAM,yBAAyB,CAAC;AAEjC,OAAO,EAAE,sBAAsB,EAAE,MAAM,uBAAuB,CAAC;AAG/D,IAAa,cAAc,GAA3B,MAAa,cAAe,SAAQ,UAAU;IA2B5C,YAAY,KAAsC;;QAChD,KAAK,EAAE,CAAC;QAlBV,UAAK,GAAW,CAAC,CAAC;QAElB,WAAM,GAAW,CAAC,CAAC;QAEnB,WAAM,GAAkB,IAAI,CAAC;QAM7B,YAAO,GAAiD,EAAE,CAAC;QAE3D,qBAAgB,GACd,MAAA,MAAA,IAAI,CAAC,UAAU,0CAAE,SAAS,EAAE,mCAAI,cAAc,CAAC;QAM/C,IAAI,KAAK,EAAE;YACT,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC,YAAY,CAAC;YACvC,IAAI,CAAC,qBAAqB,GAAG,KAAK,CAAC,qBAAqB,CAAC;YACzD,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,WAAW,CAAC;YACrC,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC,UAAU,CAAC;YACnC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;YACzB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;YAC3B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;YAC3B,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC;YAC/B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC,UAAU,CAAC;YACnC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC;SAC9B;IACH,CAAC;IAED,MAAM;;QACJ,MAAM,KAAK,GAA6B,sBAAsB,CAC5D,CAAC,KAAwB,EAAE,EAAE;;YAC3B,MAAA,IAAI,CAAC,YAAY,+CAAjB,IAAI,EAAgB,KAAK,CAAC,CAAC;QAC7B,CAAC,CACF,CAAC;QAEF,OAAO,IAAI,CAAA;;;;oBAIK,IAAI,CAAC,MAAM;mBACZ,IAAI,CAAC,KAAK;8BACC,IAAI,CAAC,qBAAqB;;;2CAGb,KAAK;;sBAE1B,IAAI,CAAC,gBAAgB;0BACjB,IAAI,CAAC,UAAU;2BACd,IAAI,CAAC,WAAW;6BACd,MAAA,IAAI,CAAC,UAAU,0CAAE,eAAe;wBACrC,MAAA,MAAA,IAAI,CAAC,UAAU,0CAAE,WAAW,EAAE,mCAAI,OAAO,GAAG,MAAM,CAAC,CAAC,CAAC;sBACvD,MAAA,MAAA,IAAI,CAAC,UAAU,0CAAE,OAAO,EAAE,mCAAI,EAAE;uBAC/B,IAAI,CAAC,OAAO;;;;;kBAKjB,MAAA,IAAI,CAAC,MAAM,0CAAE,MAAM;2BACV,MAAA,IAAI,CAAC,MAAM,0CAAE,WAAW;;;;8BAIrB,MAAA,IAAI,CAAC,MAAM,0CAAE,aAAa;;0CAEd,IAAI,CAAC,QAAQ;;KAElD,CAAC;IACJ,CAAC;CACF,CAAA;AA1DQ,qBAAM,GAAG,CAAC,WAAW,EAAE,iBAAiB,EAAE,kBAAkB,CAAC,CAAC;AAvBrE;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;oDACsB;AAEjD;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;kDACqB;AAEhD;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;mDACF;AAEzB;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;6DAC8B;AAEzD;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;6CACT;AAElB;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;8CACR;AAEnB;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;8CACE;AAE7B;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;gDACH;AAEvB;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;kDACH;AAExB;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;+CACiC;AAE3D;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;wDAEsB;AAvBtC,cAAc;IAD1B,aAAa,CAAC,iBAAiB,CAAC;GACpB,cAAc,CAmF1B;SAnFY,cAAc","sourcesContent":["import { html, LitElement } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nimport { nanoid } from 'nanoid';\nimport {\n  ConnectionStatus,\n  RoomConnectionData,\n} from '../../../types/network.types';\nimport { Coordinates } from '../../../types/types';\nimport { Editor } from '../../../util/Editor';\nimport { Tools_List } from '../../../util/helper/constants.js';\nimport { Connection } from '../../../util/network';\nimport '../../atoms/DrawZone';\nimport '../../atoms/MenuButton';\nimport '../../atoms/PositionInformation';\nimport '../../atoms/ToolboxButton';\nimport type { ToolboxButtonPropsType } from '../../atoms/ToolboxButton/ToolboxButton.types';\nimport '../../molecules/ConnectionSection';\nimport '../../molecules/DialogSection';\nimport '../../molecules/FooterFields';\nimport '../../molecules/ToolBox';\nimport {\n  layoutContentStyle,\n  layoutHeaderStyle,\n  layoutStyle,\n} from './EditorTemplate.styles';\nimport { EditorTemplateProps } from './EditorTemplate.types';\nimport { getToolboxButtonsProps } from './EditorTemplate.util';\n\n@customElement('editor-template')\nexport class EditorTemplate extends LitElement {\n  @property({ type: Object })\n  onSelectTool?: (tool: Tools_List | null) => void;\n  @property({ type: Object })\n  onJoinRoom?: (tool: RoomConnectionData) => void;\n  @property({ type: Object })\n  onLeaveRoom?: () => void;\n  @property({ type: Object })\n  onMousePositionChange?: (position?: Coordinates) => void;\n  @property({ type: Number })\n  width: number = 0;\n  @property({ type: Number })\n  height: number = 0;\n  @property({ type: Object })\n  editor: Editor | null = null;\n  @property({ type: Array })\n  position?: Coordinates;\n  @property({ type: Object })\n  connection?: Connection;\n  @property({ type: Array })\n  chatLog: Array<{ userName: string; message: string }> = [];\n  @property({ type: String })\n  connectionStatus: ConnectionStatus =\n    this.connection?.getStatus() ?? 'disconnected';\n\n  static styles = [layoutStyle, layoutHeaderStyle, layoutContentStyle];\n\n  constructor(props: EditorTemplateProps | undefined) {\n    super();\n    if (props) {\n      this.onSelectTool = props.onSelectTool;\n      this.onMousePositionChange = props.onMousePositionChange;\n      this.onLeaveRoom = props.onLeaveRoom;\n      this.onJoinRoom = props.onJoinRoom;\n      this.width = props.width;\n      this.height = props.height;\n      this.editor = props.editor;\n      this.position = props.position;\n      this.connection = props.connection;\n      this.chatLog = props.chatLog;\n    }\n  }\n\n  render() {\n    const tools: ToolboxButtonPropsType[] = getToolboxButtonsProps(\n      (tools: Tools_List | null) => {\n        this.onSelectTool?.(tools);\n      }\n    );\n\n    return html`\n      <div id=\"content\">\n        <draw-zone\n          id=\"draw-zone\"\n          .height=${this.height}\n          .width=${this.width}\n          .onPositionChange=${this.onMousePositionChange}\n        ></draw-zone>\n        <div id=\"right-main-section\">\n          <tool-box id=\"tool-box\" .tools=${tools}></tool-box>\n          <connection-section\n            .status=${this.connectionStatus}\n            .onJoinRoom=${this.onJoinRoom}\n            .onLeaveRoom=${this.onLeaveRoom}\n            .onSendMessage=${this.connection?.sendChatMessage}\n            .userName=${this.connection?.getUserName() ?? 'user_' + nanoid(6)}\n            .roomId=${this.connection?.getRoom() ?? ''}\n            .chatLog=${this.chatLog}\n          ></connection-section>\n        </div>\n      </div>\n      <dialog-section\n        .onSave=${this.editor?.onSave}\n        .onSelectSvgFile=${this.editor?.onImportSVG}\n      ></dialog-section>\n      <div id=\"footer\">\n        <footer-fields\n          .onSVGParamChange=${this.editor?.setShapeParam}\n        ></footer-fields>\n        <position-information .position=${this.position}></position-information>\n      </div>\n    `;\n  }\n}\n"]}